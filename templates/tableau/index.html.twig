{% extends "base.html.twig" %}

{% block title %}Tableau Général - {% endblock %}

{% block navbar %}

    {% if app.request.get('fullscreen') == 1 %}
    {% else %}
    {{ parent() }}
    {% endif %}
{% endblock %}

{% block body %}


    </div></div></div>
<section class="m-0 p-0">
    <div class="container-fluid m-0">
        <div class="row g-2">
    {% for category in categories %}

        <div class="col-12 col-md-4 small"><table class="table table-striped table-responsive"><figure class="text-center mt-3" top><h3>{{ category.Name }}</h3></figure>

            <thead><tr><th class="text-right">Match</th><th>Heure</th><th>Terrain</th></tr></thead>

            <tbody>
            {% if category.phaseEnCours %}
                {% for phase in category.phases %}

                  {% if phase.meets|length > 0 %}  <th class="text-center" colspan="3"><h4>{{ phase.Name }}</h4></th> {% endif %}

                {% for match in phase.meets %}

                    {% if match.ScoreA is null and match.ScoreB is null and match.PenaltyA is null and match.PenaltyB is null %}
            <tr>
                {% if match.TeamA and match.TeamB %}<td class="text-right">{{ match.TeamA }} - {{ match.TeamB }}</td>
                {% elseif match.positionA and match.positionB %}<td class="text-right">{{ match.positionA.Rang }}{% if match.positionA.Rang == 1 %}er{% else %}ème{% endif %} de la poule {{ match.positionA.pouleFrom }} - {{ match.positionB.Rang }}{% if match.positionB.Rang == 1 %}er{% else %}ème{% endif %} de la poule {{ match.positionB.pouleFrom }}</td>
                    {% else %}<td class="text-right">{{ match.Name }}</td>

                    {% endif %}

                <td>{{ match.time|date("H:i") }}</td>
                <td>{{ match.field }}</td>
            </tr>
        {% endif %}
        {% endfor %}
        {% endfor %}


            {% endif %}
            </tbody>

            </table></div>

    {% endfor %}
            <a href="?fullscreen=1" class="btn btn-primary w-100 mt-3">voir en plein écran</a>

{% endblock %}

{% block javascript %}

            setInterval(function()
            {
                location.reload();
            },3000);

{% endblock %}