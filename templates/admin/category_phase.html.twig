{% extends 'base.html.twig' %}

{% block title %}Catégorie {{ category.Name }}{% endblock %}

{% block body %}

    <div class="example-wrapper">

        <h3 class="">Catégorie {{ category.Name }} - Phase : {{ phase.Name }}</h3>




{% for poule in phase.poules %}

    <h5 class="mt-4">Poule {{ poule.Name }} <a href="{{ path("app_admin_category_phase_groupe", {groupe:poule.id,idCategory:category.id, idPhase:phase.id}) }}" class="btn btn-primary float-end py-0">voir les matchs de la poule {{ poule.Name }}</a></h5>
    <hr >


    {% if classement[poule.Id] is defined %}

    <table class="table table-striped table-bordered">
        <tr>
            <th>#</th>
            <th>Équipe</th>
            <th>Points</th>
            <th>Pour</th>
            <th>Contre</th>
            <th>Victoire</th>
            <th>Défaite</th>
            <th>Nul</th>

        </tr>
        {% for team in classement[poule.Id] %}

            <tr>
                <td>{{ team.rang }}</td>
                <td>{{ team.Name }}</td>
                <td>{{ team.pts }}</td>
                <td>{{ team.but_pour }}</td>
                <td>{{ team.but_contre }}</td>
                <td>{{ team.victoire }}</td>
                <td>{{ team.defaite }}</td>
                <td>{{ team.nul }}</td>
            </tr>


        {% endfor %}


    </table>

    {% else %}

        {% for team in poule.teams %}
            {{ team }}
        {% endfor %}

    {% endif %}

        {% include "admin/block/positions.html.twig" %}


        {% endfor %}




        <hr>
        <h4>Matchs</h4>
<hr >

        {% for groupe_array in groupes %}

                    {% set groupe = groupe_array["poule"] %}

            <h5>Matchs de la poule {{ groupe }}</h5>
            <hr />

                {% include "admin/block/matchs.html.twig" %}
            <hr  class="mt-5" />
            {% endfor %}




        <div class="row mt-5">

            <div class="col"><a class="btn btn-secondary w-100 m-2" href="{{ path("app_admin_category_phase_generate",{idCategory:category.id, idPhase:phase.id}) }}">Générer les matchs de la phase suivante</a></div>
            <div class="col"><a class="btn btn-danger w-100 m-2" href="{{ path("app_admin_category_phase_delete",{idCategory:category.id, idPhase:phase.id}) }}">Supprimer tous les matchs de la phase</a></div>


        </div>



    </div>
{% endblock %}

{% block secondNav %}
    {% include "admin/adminMenu.html.twig" %}
{% endblock %}