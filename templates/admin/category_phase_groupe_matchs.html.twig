{% extends 'base.html.twig' %}

{% block title %}Catégorie {{ category.Name }}{% endblock %}

{% block body %}

    <div class="example-wrapper">

        <h3 class="">Catégorie {{ category.Name }} - Phase : {{ phase.Name }} - Groupe : {{ groupe }}</h3>


        <hr class="">

        <h4>Matchs</h4>
        <hr class="">


        {% for key, group in phase.meets|filter(v => v.poule == groupe)|group_by(==> _.tour) %}
            <h5 class="mt-4">Tour {{ key }}</h5>
        <table class="table table-striped table-bordered">
            <tr><th>Équipe A</th><th></th><th>Équipe B</th><th>Score A</th><th>Score B</th></tr>
            {% for meet in group %}
                <tr>
                    <td>{{ meet.teamA.Name }} ({{ meet.scoreA }})</td>
                    <td>-</td>
                    <td>{{ meet.teamB.Name }} ({{ meet.ScoreB }})</td>
                    <td>{{ meet.scoreA }}</td>
                    <td>{{ meet.ScoreB }}</td>
                </tr>
            {% endfor %}

        </table>

        {% endfor %}


        </table>


        <hr class="mt-5">

        <h4>Classement</h4>
        <hr class="">


        {% for key,groupe in classement %}


            <h5 class="mt-4">Groupe {{ key }}</h5>

            <table class="table table-striped table-bordered">
                <tr>
                    <th>Équipe</th>
                    <th>Points</th>
                    <th>Pour</th>
                    <th>Contre</th>
                    <th>Victoire</th>
                    <th>Défaite</th>
                    <th>Nul</th>

                </tr>
                {% for team in groupe %}

                    <tr>
                        <td>{{ team.Name }}</td>
                        <td>{{ team.pts }}</td>
                        <td>{{ team.but_pour }}</td>
                        <td>{{ team.but_contre }}</td>
                        <td>{{ team.victoire }}</td>
                        <td>{{ team.defaite }}</td>
                        <td>{{ team.nul }}</td>
                    </tr>


                {% endfor %}
            </table>
        {% endfor %}


        <hr class="mt-5">

        <div class="row mt-5">

            {#<div class="col"><a class="btn btn-secondary w-100 m-2" href="">Ajouter une équipe</a></div>#}

        </div>


    </div>
{% endblock %}

{% block secondNav %}
    {% include "admin/adminMenu.html.twig" %}
{% endblock %}